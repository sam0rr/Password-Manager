<div id="profile-form-wrapper">
    <form method="post"
          action="/update"
          hx-post="/update"
          hx-trigger="change"
          hx-target="#profile-form-wrapper"
          hx-swap="morphdom"
          hx-preserve="true"
          novalidate>

        {include '../components/formField.latte',
        name => 'first_name',
        label => 'PrÃ©nom',
        icon => 'person',
        form => $form,
        value => $user->first_name
        }

        {include '../components/formField.latte',
        name => 'last_name',
        label => 'Nom',
        icon => 'person-badge',
        form => $form,
        value => $user->last_name
        }

        {include '../components/formField.latte',
        name => 'email',
        label => 'Adresse courriel',
        icon => 'envelope',
        form => $form,
        value => $user->email
        }

        {include '../components/formField.latte',
        name => 'phone',
        label => 'TÃ©lÃ©phone',
        icon => 'telephone',
        form => $form,
        value => $user->phone
        }

        {include 'avatarPreview.latte', imageUrl => $user->image_url }

        <input type="hidden" name="image_url" id="image_url" value="{$user->image_url}">
        <input type="hidden" name="temp_avatar_url" id="temp_avatar_url" value="">

        <div class="d-grid gap-2 mt-4">
            <button type="submit" class="btn btn-primary btn-lg">
                <i class="bi bi-save me-2"></i> Enregistrer
            </button>
        </div>
    </form>
</div>